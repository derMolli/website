<!DOCTYPE html>
<html>
  

  <head>
    <title>derMolli.de</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="styles/general.css">
    <link rel="stylesheet" href="styles/header.css">
    <link rel="stylesheet" href="styles/sidebar.css">
    <link rel="stylesheet" href="styles/video.css">
    <link rel="stylesheet" href="styles/embed.css">
  </head>


  <body>  
    
  <script src= "https://player.twitch.tv/js/embed/v1.js"></script>
	<div class="twitch-container">
  		<div id="twitch-video" class="hide">
  		</div>
        <div class="twitch-chat">
    	<iframe
      	frameborder="0"
      	scrolling="no"
      	src="https://www.twitch.tv/embed/MrMrNightfox/chat?parent=dermolli.de&parent=www.dermolli.de" <!-- Change the CHANNELNAME to the desired twitch handle.  Change the parent website in the URL here to the actual place you're running the script from, otherwise twitch will throw an error.  Must do versions with and without www. Only put the root URL of your website, no need to put in the specific page.-->
      	height="100%"
      	width="100%"
        allow="autoplay">
    	</iframe>
  </div>
  	</div>

  <script type="text/javascript">
    var options = {
      channel: "MrMrNightfox", // TODO: Change this to the streams username you want to embed
      height: 360,
      width: 640,
    };
    var player = new Twitch.Player("twitch-video", options);

    player.addEventListener(Twitch.Player.READY, initiate)

    function initiate() {
      player.addEventListener(Twitch.Player.ONLINE, handleOnline);
      player.addEventListener(Twitch.Player.OFFLINE, handleOffline);
      player.removeEventListener(Twitch.Player.READY, initiate);
    }

    function handleOnline() {
      document.getElementById("twitch-video").classList.remove('hide');
      document.getElementById("twitch-container").classList.remove('hide');
      player.removeEventListener(Twitch.Player.ONLINE, handleOnline);
      player.addEventListener(Twitch.Player.OFFLINE, handleOffline);
      player.setMuted(false);
    }

    function handleOffline() {
      document.getElementById("twitch-video").classList.add('hide');
      document.getElementById("twitch-container").classList.add('hide');
      player.removeEventListener(Twitch.Player.OFFLINE, handleOffline);
      player.addEventListener(Twitch.Player.ONLINE, handleOnline);
      player.setMuted(true);
    }
  </script>
    <header class="header">

      <div class="left-section">
        <img class="hamburger-menu" src="icons/hamburger-menu.svg">
        <img class="youtube-logo" src="icons/youtube-logo.svg">
      </div>

      <div class="middle-section">
        <input class="search-bar" type="text" placeholder="Search">
        <button class="search-button">
          <img class="search-icon" src="icons/search.svg">
          <div class="tooltip">Search</div>
        </button>
        <button class="voice-search-button">
          <img class="voice-search-icon" src="icons/voice-search-icon.svg"> 
          <div class="tooltip">Search with your Voice</div>
        </button>
      </div>

      <div class="right-section">
        <div class="upload-icon-container">
          <img class="upload-icon" src="icons/upload.svg">
          <div class="tooltip">Create</div></div>
          
        <div class="youtube-apps-icon-container">
         <img class="youtube-apps-icon" src="icons/youtube-apps.svg">
         <div class="tooltip">YouTube apps</div></div>

        <div class="notifications-icon-container">
           <img class="notifications-icon" src="icons/notifications.svg">
           <div class="notifications-count">3</div>
           <div class="tooltip">Notifications</div>
        </div>
        <img class="current-user-picture" src="channel-pictures/my-channel.jpeg">
      </div>
    </header>

    <nav class="sidebar">
      <div class="sidebar-link"><img src="icons/home.svg"><div>Home</div></div>
      <div class="sidebar-link"><img src="icons/explore.svg"><div>Explore</div></div>
      <div class="sidebar-link"><img src="icons/subscriptions.svg"><div>Subscriptions</div></div>
      <div class="sidebar-link"><img src="icons/originals.svg"><div>Originals</div></div>
      <div class="sidebar-link"><img src="icons/youtube-music.svg"><div>YouTube Music</div></div>
      <div class="sidebar-link"><img src="icons/library.svg"><div>Library</div></div>
    </nav>

    
    <main>
      <section class="video-grid">
      </section>

      </main>

    </body>

</html>
